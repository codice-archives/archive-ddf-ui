<!DOCTYPE html>
<!--
/**
 * Copyright (c) Codice Foundation
 *
 * This is free software: you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License as published by the Free Software Foundation, either
 * version 3 of the License, or any later version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 * See the GNU Lesser General Public License for more details. A copy of the GNU Lesser General Public License is distributed along with this program and can be found at
 * <http://www.gnu.org/licenses/lgpl.html>.
 *
 **/
 -->
<html>
<head>
    <meta charset="utf-8">
    <title>Standard Search UI Help</title>

    <link href="lib/bootswatch/flatly/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container">
<div class="page-header">
    <h1>Standard Search UI Help</h1>
</div>
<h2>Table of Contents</h2>
<div class="well">
    <ul>
        <li><a href="#toc">Table of Contents</a></li>
        <li><a href="#overview">Overview</a></li>
        <li><a href="#search">Search</a>
            <ul>
                <li><a href="#searchcriteria">Search Criteria</a></li>
                <li><a href="#results">Results</a></li>
                <li><a href="#summary">Record Summary</a></li>
                <li><a href="#details">Record Details</a></li>
                <li><a href="#savedsearch">Save a Search</a></li>
            </ul>
        </li>
        <li><a href="#workspaces">Workspaces</a>
            <ul>
                <li><a href="#createworkspace">Create a Workspace</a></li>
            </ul>
        </li>
        <li><a href="#notifications">Notifications</a></li>
        <li><a href="#activities">Activities</a></li>
        <li><a href="#install">Install</a></li>
        <li><a href="#configuration">Configuration</a>
            <ul>
                <li><a href="#configurableproperties">Configurable Properties</a></li>
            </ul>
        </li>
        <li><a href="#downloads">Downloads</a></li>
    </ul>
</div>


<h2><a id="overview"></a>Overview</h2>
<p>The DDF Standard Search UI application allows a user to search for records in the local Catalog (provider) and
    federated sources. Results of the search are returned in HTML format and are displayed on a globe, providing a visual
    representation of where the records were found.</p>

<p>Located at the bottom of the left pane of the Search UI are two tabs: <a href="#search">Search</a> and
    <a href="#workspaces">Workspaces</a>. The Search tab contains basic fields to query the Catalog and other sources. The
    workspaces feature uses the same search criteria that are provided in the Search tab, and it also allows the user to
    create custom searches that can be saved for later execution. The right-side pane displays a map that, when records are
    found, shows the location of where the record was retrieved.</p>

<h2><a id="search"></a>Search</h2>
<p>The Standard Search UI allows users to search for records in the local Catalog and federated sources based on the
    criteria entered in the Search tab. After a search is executed, the UI provides results based on the defined
    criteria and detailed information about each result. Additionally, a user can save individual records that were
    returned by the query to a workspace, so they can be referenced in the future. The user can also save the search
    criteria to a workspace so the query can be run again.</p>

<h3><a id="searchcriteria"></a>Search Criteria</h3>
<p>The Search UI queries a Catalog using the following criteria.</p>
<table class="table table-striped table-bordered">
    <thead>
    <tr>
        <th>Criteria</th>
        <th>Description</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>KEYWORDS</td>
        <td>Search by free text using the grammar of the underlying endpoint/Catalog.</td>
    </tr>
    <tr>
        <td>TIME</td>
        <td>Search based on relative or absolute time of the modified (default) or effective date.</td>
    </tr>
    <tr>
        <td>LOCATION</td>
        <td>Search using a point-radius or bounding box.</td>
    </tr>
    <tr>
        <td>TYPE</td>
        <td>Search for specific Metacard.CONTENT_TYPE values.</td>
    </tr>
    <tr>
        <td>ADDITIONAL SOURCES</td>
        <td>Select <b>All Sources</b> or <b>Specific Sources</b>.</td>
    </tr>
    <tr>
        <td>All Sources</td>
        <td>Create an enterprise search. All federations are queried.</td>
    </tr>
    <tr>
        <td>Specific Sources</td>
        <td>Search a specific source(s). If a source is unavailable, it is displayed in red text.</td>
    </tr>
    </tbody>
</table>

<h3><a id="results"></a>Results</h3>
<p>After a query is executed, the records matching the search criteria are automatically displayed in the Results pane.</p>
<table class="table table-striped table-bordered">
    <thead>
    <tr>
        <th>Item</th>
        <th>Description</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>Results</td>
        <td>The number of records that were returned as a result of the query. Only the top 250 results are
            displayed, with the most relevant records displayed at the top of the list. If more than 250 results
            are returned, try narrowing the search criteria.</td>
    </tr>
    <tr>
        <td>Search button</td>
        <td>Navigates back to the Search pane.</td>
    </tr>
    <tr>
        <td>Save button</td>
        <td>Allows the user to select individual records to save.</td>
    </tr>
    <tr>
        <td>Records list</td>
        <td>Shows the results of the search. The following information is displayed for each record:<br />
            Title – The title of the record is displayed in blue text (e.g., INDIA REPORTED BUYING TWO WHITE SUGAR
            CARGOES). Select the title of the record to view more details.<br />
            Source – The gray text displayed below the record title is the data source (e.g., ddf.distribution) and
            the amount of time that has passed since the record was created (e.g., an hour ago).</td>
    </tr>
    <tr>
        <td>Refresh button</td>
        <td>Refreshes the list of results. The most relevant records continue to be displayed at the top of the
            results list.</td>
    </tr>
    </tbody>
</table>

<h3><a id="summary"></a>Record Summary</h3>
<p>When an individual record is selected in the results list, the Record pane opens. When the Summary button is
    selected in the Record pane, the following information is displayed.</p>
<table class="table table-striped table-bordered">
    <thead>
    <tr>
        <th>Item</th>
        <th>Description</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>Results button</td>
        <td>Navigates back to the original query results list.</td>
    </tr>
    <tr>
        <td>Up and down arrows</td>
        <td>Navigate through the records that were returned in the search. When the end or the beginning of the
            search results list is reached, the respective up or down arrow is disabled.</td>
    </tr>
    <tr>
        <td>Details button</td>
        <td>Opens the <a href="#details">Details tab</a>, which displays more information about the record.</td>
    </tr>
    <tr>
        <td>Title</td>
        <td>The title of the record is displayed in uppercase white font.</td>
    </tr>
    <tr>
        <td>Source</td>
        <td>The location that the metadata came from, which could be the local provider or a federated source.</td>
    </tr>
    <tr>
        <td>Created time</td>
        <td>When the record was created.</td>
    </tr>
    <tr>
        <td>Modified time</td>
        <td>How long ago the record was last modified.</td>
    </tr>
    <tr>
        <td>Locate button</td>
        <td>Centers the map on the record's originating location.</td>
    </tr>
    </tbody>
</table>

<h3><a id="details"></a>Record Details</h3>
<p>When an individual record is selected in the results list, the Record pane opens. When the Details button is
    selected in the Record pane, the following information is displayed.</p>
<table class="table table-striped table-bordered">
    <thead>
    <tr>
        <th>Item</th>
        <th>Description</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>Results button</td>
        <td>Navigates back to the original query results list.</td>
    </tr>
    <tr>
        <td>Up and down arrows</td>
        <td>Navigate through the records that were returned in the search. When the end or the beginning of the
            search results list is reached, the respective up or down arrow is disabled.</td>
    </tr>
    <tr>
        <td>Summary button</td>
        <td>Opens the <a href="#summary">Summary tab</a>, which provides a high level overview of the result set.</td>
    </tr>
    <tr>
        <td>Id</td>
        <td>The record's unique identifier.</td>
    </tr>
    <tr>
        <td>Source Id</td>
        <td>Where the metadata was retrieved from, which could be the local provider or a federated source.</td>
    </tr>
    <tr>
        <td>Title</td>
        <td>The title of the record is displayed in uppercase white font.</td>
    </tr>
    <tr>
        <td>Created time</td>
        <td>When the record was created.</td>
    </tr>
    <tr>
        <td>Metacard Type</td>
        <td>The type of metacard associated with the record.</td>
    </tr>
    <tr>
        <td>Modified</td>
        <td>How long ago the record was last modified.</td>
    </tr>
    <tr>
        <td>Thumbnail</td>
        <td>Depicts a reduced size image of the original artifact for the current record, if available.</td>
    </tr>
    <tr>
        <td>Download</td>
        <td>When applicable, a download link for the product associated with the record is displayed. The size of
            the product is also displayed, if available. If the size is not available, N/A is displayed.</td>
    </tr>
    <tr>
        <td>Metadata</td>
        <td>Shows a representation of the metadata XML, if available.</td>
    </tr>
    </tbody>
</table>

<h3><a id="savedsearch"></a>Save a Search</h3>
<p>Saved searches are search criteria that are created and saved by a user. Each saved search has a name that
    was defined by the user, and the search  can be executed at a later time or be scheduled for execution. Saved records (metacards)
    that the user elected to save for future use are returned as part of a search. These queries can be saved to a
    <a href="#workspaces">workspace</a>, which is a collection of searches and metacards created by a user.  Complete
    the following procedure to create a saved search.</p>
<ol>
    <li>Select the Search tab at the bottom of the left pane.</li>
    <li>Use the fields provided to define the <a href="#searchcriteria">search criteria</a> for the query to be saved.
    </li>
    <li>Select the <b>Save</b> button. The Select Workspace pane opens.</li>
    <li>Type a name for the query in the <b>ENTER NAME FOR SEARCH</b> field.</li>
    <li>Select a workspace in which to save the query, or create a workspace by typing a title for the new workspace in
        the <b>New Workspace</b> field.</li>
    <li>Select the <b>Save</b> button.</li>
</ol>
<table class="table table-striped table-bordered">
    <thead>
    <tr>
        <th>NOTE</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>The size of the product is based on the value in the associated metacard's resource-size attribute.
            This is defined when the metacard was originally created and may or may not be accurate. Often it will
            be set to N/A, indicating that the size is unknown or not applicable.<br /><br />
            However, if the administrator has enabled caching on DDF and has installed the
            catalog-core-resourcesizeplugin PostQuery Plugin, and if the product has been retrieved, it has been
            cached and the size of the product can be determined based on the cached file's size. Therefore,
            subsequent query results that include that product will display an accurate size under the download
            link.</td>
    </tr>
    </tbody>
</table>

<h2><a id="workspaces"></a>Workspaces</h2>
<p>Each user can create multiple workspaces and assign each of them a descriptive name. Each workspace can contain
    multiple <a href="#savedsearch">saved searches</a> and contain multiple saved records (metacards). Workspaces are saved for each user
    and are loaded when the user logs in. Workspaces and their contents are persisted, so they survive if DDF is
    restarted. Currently, workspaces are private and cannot be viewed by other users.</p>

<h3><a id="createworkspace"></a>Create a Workspace</h3>
<ol>
    <li>Select the Workspaces tab at the bottom of the Search UI's left pane. The Workspaces pane opens, which displays
        the existing workspaces that were created by the user. At the top of the pane, an option to <b>Add</b> and an
        option to <b>Edit</b> are displayed.</li>
    <li>Select the <b>Add</b> button at the top of the left pane. A new workspace is created.</li>
    <li>In the <b>Workspace Name</b> field, enter a descriptive name for the workspace.</li>
    <li>Select the <b>Add</b> button. The Workspaces pane opens, which now displays the new workspace and any existing
        workspaces.</li>
    <li>Select the name of the new workspace. The data (i.e., saved searches and records) for the selected workspace is displayed in the Workspace pane.</li>
    <li>Select the + icon near the top of the Workspace pane to begin adding queries to the workspace. The Add/Edit Search pane opens.</li>
    <li>Enter a name for the new query to be saved in the <b>QUERY NAME</b> field.</li>
    <li>Complete the rest of the <a href="#searchcriteria">search criteria</a>.</li>
    <li>Select the <b>Save & Search</b> button. The Search UI begins searching for records matching the criteria,
        and the new query is saved to the workspace. When the search is complete, the Workspace pane opens.</li>
    <li>Select the name of the search to view the query results.</li>
    <li>If necessary, in the Workspace pane, select the <b>Edit</b> button then select the pencil icon next to the name of a query to change the search
        criteria.
    </li>
    <li>If necessary, in the Workspace pane, select the delete icon next to the name of a query to delete the query from the workspace.</li>
</ol>

<h2><a id="notifications"></a>Notifications</h2>
<p>The Standard Search UI receives all notifications from DDF.  These notifications appear as pop-up windows inside the
    Search UI to alert the user of an event of interest. To view all notifications, select the notification (bell)
    icon.</p>
<p>Currently, the notifications provide information about product retrieval only.  After a user initiates a resource
    download, they receive periodic notifications that provide the progress of the download (e.g., the download
    completed, failed, or is being retried).</p>


<table class="table table-striped table-bordered">
    <thead>
    <tr>
        <th>NOTE</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>A notification pop-up remains visible until it is dismissed or the browser is refreshed. Once a
            notification is dismissed, it cannot be retrieved again.</td>
    </tr>
    </tbody>
</table>

<h2><a id="activities"></a>Activities</h2>
<p>Similar to notifications, activities appear as pop-up windows inside the Search UI. Activity events include the
    status and progress of actions that are being performed by the user, such as searches and downloads. To view all
    activities, select the activity icon in the top-right corner of the window. A list of all activities opens in a
    drop-down menu, from which activities can be read and deleted. If a download activity is being performed, the
    Activity drop-down menu provides the link to retrieve the product.</p>
<p>If caching is enabled, a progress bar is displayed in the Activity (Product Retrieval) drop-down menu until the
    action being performed is complete. </p>

<h2><a id="install"></a>Install</h2>
<p>The Search UI application is installed by default. The Search UI feature, search-ui, can be installed and uninstalled
    using the <a href="/system/console/features" target="_blank">Web Console</a>.</p>

<h2><a id="configuration"></a>Configuration</h2>
<p>The Search UI is configured by selecting Standard Search UI in the <a href="/system/console/configMgr" target="_blank">Web Console</a>,
    editing the properties, then selecting the <b>Save</b> button.</p>
<h3><a id="configurableproperties"></a>Configurable Properties</h3>
<table class="table table-striped table-bordered">
    <thead>
    <tr>
        <th>Title</th>
        <th>Property</th>
        <th>Type</th>
        <th>Description</th>
        <th>Required</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>Footer</td>
        <td>footer</td>
        <td>String</td>
        <td>The footer text to be rendered on the Search UI.</td>
        <td>No</td>
    </tr>
    <tr>
        <td>Header</td>
        <td>header</td>
        <td>String</td>
        <td>The header text to be rendered on the Search UI.</td>
        <td>No</td>
    </tr>
    <tr>
        <td>Style</td>
        <td>style</td>
        <td>String</td>
        <td>The style name (background color) of the Header and Footer.</td>
        <td>Yes</td>
    </tr>
    <tr>
        <td>Text Color</td>
        <td>textColor</td>
        <td>String</td>
        <td>The text color of the Header and Footer.</td>
        <td>Yes</td>
    </tr>
    <tr>
        <td>WMS Format</td>
        <td>format</td>
        <td>String</td>
        <td>The WMS layer format (image/png, etc.)</td>
        <td>No</td>
    </tr>
    <tr>
        <td>WMS Layers</td>
        <td>layers</td>
        <td>String</td>
        <td>The WMS layers to be used.</td>
        <td>No</td>
    </tr>
    <tr>
        <td>WMS Server</td>
        <td>wmsServer</td>
        <td>String</td>
        <td>The WMS server to be used as the map tile provider.</td>
        <td>No</td>
    </tr>
    </tbody>
</table>

<h2><a id="downloads"></a>Downloads</h2>
<p>Downloads from the UI are currently managed by the user-specific browser's download manager.  The UI itself does not
    have a built-in download manager utility.</p>
</body>
</html>
